{"ast":null,"code":"var _jsxFileName = \"/Users/miku/work/react/react-work/demo/src/components/home/components/article/components/details/index.js\";\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nimport { Link } from \"react-router-dom\";\nimport img1 from \"../../img/1.png\";\nimport img2 from \"../../img/2.png\";\nimport img3 from \"../../img/3.png\";\nimport img4 from \"../../img/4.png\";\nimport img0 from \"../../img/0.jpg\";\nimport img5 from \"../../img/5.png\";\nimport img6 from \"../../img/6.png\";\nimport { AuthContext } from '../../../../../../app';\nimport \"./detail.css\";\n\nclass Details extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      title: \"\",\n      content: \"\",\n      xiaobian: \"\",\n      brief_introduction: \"\",\n      display: false,\n      //判断是否查看评论\n      commentList: []\n    };\n  }\n\n  componentDidMount() {\n    let id = this.props.match.params.id;\n    axios.get('/api/article/detail') //记得要使⽤箭头函数\n    .then(response => {\n      this.setState({\n        title: response.data.data[id].title,\n        content: response.data.data[id].content,\n        xiaobian: response.data.data[id].xiaobian,\n        brief_introduction: response.data.data[id].brief_introduction\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    axios.get('/api/article/comment', {\n      params: {\n        page: 1\n      }\n    }).then(res => {\n      console.log(res.data);\n      this.setState({\n        commentList: res.data.command[id]\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(AuthContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, val => {\n      // console.log(val)\n      let nickname = localStorage.getItem('nickname');\n\n      if (nickname) {\n        axios.get('/api/user/profile').then(res => {\n          val.setData(res.data.data);\n        });\n      }\n\n      if (val.pay) {\n        return React.createElement(\"div\", {\n          id: \"detail\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"detail-top\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \" <\")), React.createElement(\"div\", {\n          id: \"detail-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, this.state.title)), React.createElement(\"div\", {\n          id: \"detail-brief-introduction\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, this.state.brief_introduction)), React.createElement(\"div\", {\n          id: \"detail-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"detail-content-xiaobian\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, \"[\\u5144\\u5F1F\\u4F1A]\", this.state.xiaobian), this.state.content), this.state.display ? React.createElement(\"div\", {\n          id: \"comment-detail\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"comment-detail-top\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          onClick: () => {\n            this.setState({\n              display: false\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, \" <\"), React.createElement(\"h2\", {\n          className: \"fl\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, \"\\u8BC4\\u8BBA\")), React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, this.state.commentList.map((item, id) => {\n          return React.createElement(\"li\", {\n            key: id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"comment-map chex\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"comment-map-left fl\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"comment-map-left-img\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: img0,\n            width: \"50px\",\n            height: \"50px\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 116\n            },\n            __self: this\n          }))), React.createElement(\"div\", {\n            className: \"comment-map-reight fl\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"comment-name\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121\n            },\n            __self: this\n          }, this.state.commentList[id].name), React.createElement(\"div\", {\n            className: \"comment-from\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122\n            },\n            __self: this\n          }, this.state.commentList[id].from), React.createElement(\"div\", {\n            className: \"comment-content\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          }, this.state.commentList[id].content), React.createElement(\"div\", {\n            className: \"comment-sup\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            },\n            __self: this\n          }, React.createElement(\"ul\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 125\n            },\n            __self: this\n          }, React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: img5,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126\n            },\n            __self: this\n          }), this.state.commentList[id].aggren), React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: img6,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127\n            },\n            __self: this\n          }), this.state.commentList[id].disaggren), React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: img3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }), this.state.commentList[id].free))))));\n        })), React.createElement(\"div\", {\n          id: \"comment-input\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          placeholder: \"\\u5199\\u8BC4\\u8BBA\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }))) : React.createElement(\"div\", {\n          id: \"comment\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"xiao-comment chex\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          className: \"fl\",\n          type: \"text\",\n          placeholder: \"\\u5199\\u8BC4\\u8BBA\",\n          onClick: () => {\n            this.setState({\n              display: true\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }), React.createElement(\"ul\", {\n          className: \"fl\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          className: \"fl\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: img1,\n          width: \"20px\",\n          height: \"30px\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        })), React.createElement(\"li\", {\n          className: \"fl\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: img2,\n          width: \"20px\",\n          height: \"30px\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        })), React.createElement(\"li\", {\n          className: \"fl\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: img3,\n          width: \"20px\",\n          height: \"30px\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        })), React.createElement(\"li\", {\n          className: \"fl\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: img4,\n          width: \"20px\",\n          height: \"30px\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }))))));\n      } else {\n        return React.createElement(\"div\", {\n          id: \"detail\",\n          className: \"not-subscribed\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"detail-top\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, \" <\")), React.createElement(\"div\", {\n          id: \"detail-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, this.state.title)), React.createElement(\"div\", {\n          id: \"detail-brief-introduction\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }, this.state.brief_introduction)), React.createElement(\"div\", {\n          id: \"detail-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"detail-content-xiaobian\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, \"[\\u5144\\u5F1F\\u4F1A]\", this.state.xiaobian), this.state.content), React.createElement(\"div\", {\n          id: \"article-subscription\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"article-subscription-top\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, \"\\u672C\\u6587\\u5171\\u8BA11181\\u5B57\")), React.createElement(\"div\", {\n          className: \"subscribe-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"subscribe-content-span\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, \"\\u4F1A\\u5458\\u4E13\\u4EAB\\u8BA2\\u9605\\u540E\\u9605\\u8BFB\\u5168\\u6587\"), React.createElement(\"button\", {\n          onClick: () => {\n            window.location.href = 'http://localhost:3000/#/article/pay';\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, \"\\u53BB\\u8BA2\\u9605\"), React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, \"\\u767B\\u5165\"))))));\n      }\n    });\n  }\n\n}\n\nexport default Details;","map":{"version":3,"sources":["/Users/miku/work/react/react-work/demo/src/components/home/components/article/components/details/index.js"],"names":["React","Component","axios","Link","img1","img2","img3","img4","img0","img5","img6","AuthContext","Details","state","title","content","xiaobian","brief_introduction","display","commentList","componentDidMount","id","props","match","params","get","then","response","setState","data","catch","error","console","log","page","res","command","render","val","nickname","localStorage","getItem","setData","pay","map","item","name","from","aggren","disaggren","free","window","location","href"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,QAAoB,kBAApB;AAEA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AAEA,OAAOC,IAAP,MAAiB,iBAAjB;AAEA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AAIA,SAASC,WAAT,QAA4B,uBAA5B;AAEA,OAAO,cAAP;;AAGA,MAAMC,OAAN,SAAsBX,SAAtB,CAA+B;AAAA;AAAA;AAAA,SAE3BY,KAF2B,GAErB;AACFC,MAAAA,KAAK,EAAC,EADJ;AAEFC,MAAAA,OAAO,EAAC,EAFN;AAGFC,MAAAA,QAAQ,EAAC,EAHP;AAIFC,MAAAA,kBAAkB,EAAC,EAJjB;AAMFC,MAAAA,OAAO,EAAC,KANN;AAMY;AAEdC,MAAAA,WAAW,EAAC;AARV,KAFqB;AAAA;;AAe3BC,EAAAA,iBAAiB,GAAG;AAEhB,QAAIC,EAAE,GAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,EAAjC;AAGAnB,IAAAA,KAAK,CAACuB,GAAN,CAAU,qBAAV,EACI;AADJ,KAEKC,IAFL,CAEWC,QAAD,IAAc;AAChB,WAAKC,QAAL,CAAc;AACVd,QAAAA,KAAK,EAACa,QAAQ,CAACE,IAAT,CAAcA,IAAd,CAAmBR,EAAnB,EAAuBP,KADnB;AAEVC,QAAAA,OAAO,EAACY,QAAQ,CAACE,IAAT,CAAcA,IAAd,CAAmBR,EAAnB,EAAuBN,OAFrB;AAGVC,QAAAA,QAAQ,EAACW,QAAQ,CAACE,IAAT,CAAcA,IAAd,CAAmBR,EAAnB,EAAuBL,QAHtB;AAIVC,QAAAA,kBAAkB,EAACU,QAAQ,CAACE,IAAT,CAAcA,IAAd,CAAmBR,EAAnB,EAAuBJ;AAJhC,OAAd;AAMH,KATL,EAUKa,KAVL,CAUYC,KAAD,IAAS;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAZL;AAcA7B,IAAAA,KAAK,CAACuB,GAAN,CAAU,sBAAV,EAAiC;AAC7BD,MAAAA,MAAM,EAAE;AACJU,QAAAA,IAAI,EAAC;AADD;AADqB,KAAjC,EAIGR,IAJH,CAISS,GAAD,IAAO;AACXH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACN,IAAhB;AACA,WAAKD,QAAL,CAAc;AAACT,QAAAA,WAAW,EAACgB,GAAG,CAACN,IAAJ,CAASO,OAAT,CAAiBf,EAAjB;AAAb,OAAd;AACH,KAPD;AASH;;AAEDgB,EAAAA,MAAM,GAAG;AACL,WAEI,oBAAC,WAAD,CAAa,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACMC,GAAD,IAAO;AACJ;AACA,UAAIC,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAf;;AACA,UAAIF,QAAJ,EAAc;AACVrC,QAAAA,KAAK,CAACuB,GAAN,CAAU,mBAAV,EACKC,IADL,CACWS,GAAD,IAAS;AACXG,UAAAA,GAAG,CAACI,OAAJ,CAAYP,GAAG,CAACN,IAAJ,CAASA,IAArB;AACH,SAHL;AAIH;;AAGD,UAAIS,GAAG,CAACK,GAAR,EAAY;AAER,eACI;AAAK,UAAA,EAAE,EAAC,QAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,EAAE,EAAC,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CADJ,EAII;AAAK,UAAA,EAAE,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAO,KAAK9B,KAAL,CAAWC,KAAlB,CADJ,CAJJ,EAOI;AAAK,UAAA,EAAE,EAAC,2BAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAO,KAAKD,KAAL,CAAWI,kBAAlB,CADJ,CAPJ,EAUI;AAAK,UAAA,EAAE,EAAC,gBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAM,UAAA,SAAS,EAAC,yBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAgD,KAAKJ,KAAL,CAAWG,QAA3D,CADJ,EAEK,KAAKH,KAAL,CAAWE,OAFhB,CAVJ,EAeK,KAAKF,KAAL,CAAWK,OAAX,GAEG;AAAK,UAAA,EAAE,EAAC,gBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,EAAE,EAAC,oBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAM,UAAA,OAAO,EAAE,MAAI;AACf,iBAAKU,QAAL,CAAc;AAACV,cAAAA,OAAO,EAAC;AAAT,aAAd;AACH,WAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAII;AAAI,UAAA,SAAS,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJJ,CADJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACK,KAAKL,KAAL,CAAWM,WAAX,CAAuByB,GAAvB,CAA2B,CAACC,IAAD,EAAMxB,EAAN,KAAa;AACrC,iBACI;AAAI,YAAA,GAAG,EAAEA,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAK,YAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAK,YAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAK,YAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAK,YAAA,GAAG,EAAEb,IAAV;AAAgB,YAAA,KAAK,EAAC,MAAtB;AAA6B,YAAA,MAAM,EAAC,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,CADJ,CADJ,EAOI;AAAK,YAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAK,YAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA+B,KAAKK,KAAL,CAAWM,WAAX,CAAuBE,EAAvB,EAA2ByB,IAA1D,CADJ,EAEI;AAAK,YAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA+B,KAAKjC,KAAL,CAAWM,WAAX,CAAuBE,EAAvB,EAA2B0B,IAA1D,CAFJ,EAGI;AAAK,YAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAkC,KAAKlC,KAAL,CAAWM,WAAX,CAAuBE,EAAvB,EAA2BN,OAA7D,CAHJ,EAII;AAAK,YAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAI;AAAM,YAAA,GAAG,EAAEN,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAJ,EAAuB,KAAKI,KAAL,CAAWM,WAAX,CAAuBE,EAAvB,EAA2B2B,MAAlD,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAI;AAAM,YAAA,GAAG,EAAEtC,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAJ,EAAuB,KAAKG,KAAL,CAAWM,WAAX,CAAuBE,EAAvB,EAA2B4B,SAAlD,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAI;AAAM,YAAA,GAAG,EAAE3C,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAJ,EAAuB,KAAKO,KAAL,CAAWM,WAAX,CAAuBE,EAAvB,EAA2B6B,IAAlD,CAHJ,CADJ,CAJJ,CAPJ,CADJ,CADJ;AAwBH,SAzBA,CADL,CAPJ,EAmCI;AAAK,UAAA,EAAE,EAAC,eAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,WAAW,EAAC,oBAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CAnCJ,CAFH,GA0CG;AAAK,UAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAO,UAAA,SAAS,EAAC,IAAjB;AAAsB,UAAA,IAAI,EAAC,MAA3B;AAAkC,UAAA,WAAW,EAAC,oBAA9C;AAAoD,UAAA,OAAO,EAAE,MAAI;AAC7D,iBAAKtB,QAAL,CAAc;AAACV,cAAAA,OAAO,EAAC;AAAT,aAAd;AACH,WAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAII;AAAI,UAAA,SAAS,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAI,UAAA,SAAS,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmB;AAAK,UAAA,GAAG,EAAEd,IAAV;AAAgB,UAAA,KAAK,EAAC,MAAtB;AAA6B,UAAA,MAAM,EAAC,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAnB,CADJ,EAEI;AAAI,UAAA,SAAS,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmB;AAAK,UAAA,GAAG,EAAEC,IAAV;AAAgB,UAAA,KAAK,EAAC,MAAtB;AAA6B,UAAA,MAAM,EAAC,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAnB,CAFJ,EAGI;AAAI,UAAA,SAAS,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmB;AAAK,UAAA,GAAG,EAAEC,IAAV;AAAgB,UAAA,KAAK,EAAC,MAAtB;AAA6B,UAAA,MAAM,EAAC,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAnB,CAHJ,EAII;AAAI,UAAA,SAAS,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmB;AAAK,UAAA,GAAG,EAAEC,IAAV;AAAgB,UAAA,KAAK,EAAC,MAAtB;AAA6B,UAAA,MAAM,EAAC,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAnB,CAJJ,CAJJ,CADJ,CAzDR,CADJ;AA8EH,OAhFD,MAgFM;AACF,eACI;AAAK,UAAA,EAAE,EAAC,QAAR;AAAiB,UAAA,SAAS,EAAC,gBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,EAAE,EAAC,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CADJ,EAII;AAAK,UAAA,EAAE,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAO,KAAKM,KAAL,CAAWC,KAAlB,CADJ,CAJJ,EAOI;AAAK,UAAA,EAAE,EAAC,2BAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAO,KAAKD,KAAL,CAAWI,kBAAlB,CADJ,CAPJ,EAUI;AAAK,UAAA,EAAE,EAAC,gBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAM,UAAA,SAAS,EAAC,yBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAgD,KAAKJ,KAAL,CAAWG,QAA3D,CADJ,EAEK,KAAKH,KAAL,CAAWE,OAFhB,CAVJ,EAcI;AAAK,UAAA,EAAE,EAAC,sBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDADJ,CADJ,EAII;AAAK,UAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAM,UAAA,SAAS,EAAC,wBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gFADJ,EAEI;AAAQ,UAAA,OAAO,EAAE,MAAI;AACjBoC,YAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,qCAAvB;AACH,WAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAI,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAJ,CADJ,CALJ,CAJJ,CAdJ,CADJ;AAgCH;AACJ,KA9HL,CAFJ;AAoIH;;AAlL0B;;AAqL/B,eAAezC,OAAf","sourcesContent":["import React, {Component} from \"react\";\r\nimport axios from 'axios';\r\nimport {Link} from  \"react-router-dom\";\r\n\r\nimport img1 from \"../../img/1.png\"\r\nimport img2 from \"../../img/2.png\"\r\nimport img3 from \"../../img/3.png\"\r\nimport img4 from \"../../img/4.png\"\r\n\r\nimport img0 from \"../../img/0.jpg\"\r\n\r\nimport img5 from \"../../img/5.png\"\r\nimport img6 from \"../../img/6.png\"\r\n\r\n\r\n\r\nimport { AuthContext } from '../../../../../../app'\r\n\r\nimport \"./detail.css\"\r\n\r\n\r\nclass Details extends Component{\r\n\r\n    state={\r\n        title:\"\",\r\n        content:\"\",\r\n        xiaobian:\"\",\r\n        brief_introduction:\"\",\r\n\r\n        display:false,//判断是否查看评论\r\n\r\n        commentList:[],\r\n    }\r\n\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        let id = this.props.match.params.id;\r\n\r\n\r\n        axios.get('/api/article/detail')\r\n            //记得要使⽤箭头函数\r\n            .then((response) => {\r\n                this.setState({\r\n                    title:response.data.data[id].title,\r\n                    content:response.data.data[id].content,\r\n                    xiaobian:response.data.data[id].xiaobian,\r\n                    brief_introduction:response.data.data[id].brief_introduction\r\n                })\r\n            })\r\n            .catch((error)=>{\r\n                console.log(error)\r\n            });\r\n\r\n        axios.get('/api/article/comment',{\r\n            params: {\r\n                page:1\r\n            }\r\n        }).then((res)=>{\r\n            console.log(res.data)\r\n            this.setState({commentList:res.data.command[id]})\r\n        })\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <AuthContext.Consumer>\r\n                {(val)=>{\r\n                    // console.log(val)\r\n                    let nickname = localStorage.getItem('nickname')\r\n                    if (nickname) {\r\n                        axios.get('/api/user/profile')\r\n                            .then((res) => {\r\n                                val.setData(res.data.data)\r\n                            })\r\n                    }\r\n\r\n\r\n                    if (val.pay){\r\n\r\n                        return (\r\n                            <div id=\"detail\">\r\n                                <div id=\"detail-top\">\r\n                                    <span> &lt;</span>\r\n                                </div>\r\n                                <div id=\"detail-title\">\r\n                                    <span>{this.state.title}</span>\r\n                                </div>\r\n                                <div id=\"detail-brief-introduction\">\r\n                                    <span>{this.state.brief_introduction}</span>\r\n                                </div>\r\n                                <div id=\"detail-content\">\r\n                                    <span className=\"detail-content-xiaobian\">[兄弟会]{this.state.xiaobian}</span>\r\n                                    {this.state.content}\r\n                                </div>\r\n\r\n                                {this.state.display\r\n                                    ?\r\n                                    <div id=\"comment-detail\">\r\n                                        <div id=\"comment-detail-top\">\r\n                                            <span onClick={()=>{\r\n                                                this.setState({display:false})\r\n                                            }}> &lt;</span>\r\n                                            <h2 className=\"fl\">评论</h2>\r\n                                        </div>\r\n                                        <ul>\r\n                                            {this.state.commentList.map((item,id) => {\r\n                                                return(\r\n                                                    <li key={id}>\r\n                                                        <div className=\"comment-map chex\">\r\n                                                            <div className=\"comment-map-left fl\">\r\n                                                                <div className=\"comment-map-left-img\">\r\n                                                                    <img src={img0} width=\"50px\" height=\"50px\"/>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                            <div className=\"comment-map-reight fl\">\r\n                                                                <div className=\"comment-name\">{this.state.commentList[id].name}</div>\r\n                                                                <div className=\"comment-from\">{this.state.commentList[id].from}</div>\r\n                                                                <div className=\"comment-content\">{this.state.commentList[id].content}</div>\r\n                                                                <div className=\"comment-sup\">\r\n                                                                    <ul>\r\n                                                                        <li><img  src={img5}/>{this.state.commentList[id].aggren}</li>\r\n                                                                        <li><img  src={img6}/>{this.state.commentList[id].disaggren}</li>\r\n                                                                        <li><img  src={img3}/>{this.state.commentList[id].free}</li>\r\n                                                                    </ul>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </li>\r\n                                                )\r\n                                            })}\r\n                                        </ul>\r\n                                        <div id=\"comment-input\">\r\n                                            <input type=\"text\" placeholder=\"写评论\"/>\r\n                                        </div>\r\n                                    </div>\r\n                                    :\r\n                                    <div id=\"comment\">\r\n                                        <div className=\"xiao-comment chex\">\r\n                                            <input className=\"fl\" type=\"text\" placeholder=\"写评论\" onClick={()=>{\r\n                                                this.setState({display:true})\r\n                                            }}/>\r\n                                            <ul className=\"fl\">\r\n                                                <li className=\"fl\"><img src={img1} width=\"20px\" height=\"30px\"/></li>\r\n                                                <li className=\"fl\"><img src={img2} width=\"20px\" height=\"30px\"/></li>\r\n                                                <li className=\"fl\"><img src={img3} width=\"20px\" height=\"30px\"/></li>\r\n                                                <li className=\"fl\"><img src={img4} width=\"20px\" height=\"30px\"/></li>\r\n                                            </ul>\r\n\r\n\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                }\r\n\r\n                            </div>\r\n                        )\r\n                    }else {\r\n                        return(\r\n                            <div id=\"detail\" className=\"not-subscribed\">\r\n                                <div id=\"detail-top\">\r\n                                    <span> &lt;</span>\r\n                                </div>\r\n                                <div id=\"detail-title\">\r\n                                    <span>{this.state.title}</span>\r\n                                </div>\r\n                                <div id=\"detail-brief-introduction\">\r\n                                    <span>{this.state.brief_introduction}</span>\r\n                                </div>\r\n                                <div id=\"detail-content\">\r\n                                    <span className=\"detail-content-xiaobian\">[兄弟会]{this.state.xiaobian}</span>\r\n                                    {this.state.content}\r\n                                </div>\r\n                                <div id=\"article-subscription\">\r\n                                    <div className=\"article-subscription-top\">\r\n                                        <span>本文共计1181字</span>\r\n                                    </div>\r\n                                    <div className=\"subscribe-content\">\r\n                                        <span className=\"subscribe-content-span\">会员专享订阅后阅读全文</span>\r\n                                        <button onClick={()=>{\r\n                                            window.location.href = 'http://localhost:3000/#/article/pay';\r\n                                        }}>去订阅</button>\r\n                                        <ul>\r\n                                            <li><Link to=\"/login\">登入</Link></li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n\r\n                    }\r\n                }}\r\n            </AuthContext.Consumer>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Details;"]},"metadata":{},"sourceType":"module"}