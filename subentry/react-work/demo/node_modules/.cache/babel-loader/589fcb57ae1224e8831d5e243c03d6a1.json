{"ast":null,"code":"var _jsxFileName = \"/Users/miku/work/react/react-work/demo/src/components/home/components/banner/Carousel.js\";\nimport React, { Component } from 'react';\n\nclass Carousel extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      total: 0,\n      current: 0,\n      delay: 4000\n    };\n\n    this.changeNum = () => {\n      let {\n        total,\n        current\n      } = this.state;\n      this.setState({\n        current: current + 1 != total ? current + 1 : 0\n      });\n    };\n\n    this.numBer = () => {\n      let x = this.state.total; //当前有多图片\n\n      let number = [];\n\n      for (let i = 0; i < x; i++) {\n        number.push(React.createElement(\"li\", {\n          key: i,\n          onClick: () => {\n            this.setState({\n              current: i\n            }, this.props.afterChange(this.state.current));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: this.state.current === i ? 'dian' : 'nodian',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        })));\n      }\n\n      return React.createElement(\"ul\", {\n        className: this.props.dots === true ? 'data' : 'data2',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, number);\n    };\n  }\n\n  componentDidMount() {\n    const {\n      children\n    } = this.props;\n    this.setState({\n      total: children.length,\n      delay: this.props.delay\n    });\n    this.change = setInterval(() => this.changeNum(), this.state.delay); //开启定时\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Banner\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, this.numBer(), this.props.children[this.state.current], this.props.afterChange(this.state.current));\n  }\n\n}\n\nexport default Carousel;","map":{"version":3,"sources":["/Users/miku/work/react/react-work/demo/src/components/home/components/banner/Carousel.js"],"names":["React","Component","Carousel","state","total","current","delay","changeNum","setState","numBer","x","number","i","push","props","afterChange","dots","componentDidMount","children","length","change","setInterval","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;;AAGA,MAAMC,QAAN,SAAuBD,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAC7BE,KAD6B,GACrB;AACJC,MAAAA,KAAK,EAAC,CADF;AAEJC,MAAAA,OAAO,EAAE,CAFL;AAGJC,MAAAA,KAAK,EAAC;AAHF,KADqB;;AAAA,SAgB7BC,SAhB6B,GAgBnB,MAAI;AACV,UAAI;AAACH,QAAAA,KAAD;AAAOC,QAAAA;AAAP,UAAgB,KAAKF,KAAzB;AACI,WAAKK,QAAL,CAAc;AACdH,QAAAA,OAAO,EAACA,OAAO,GAAC,CAAR,IAAaD,KAAb,GAAmBC,OAAO,GAAC,CAA3B,GAA6B;AADvB,OAAd;AAIP,KAtB4B;;AAAA,SA0B7BI,MA1B6B,GA0BtB,MAAI;AACP,UAAIC,CAAC,GAAG,KAAKP,KAAL,CAAWC,KAAnB,CADO,CACkB;;AACzB,UAAIO,MAAM,GAAG,EAAb;;AACA,WAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACF,CAAf,EAAiBE,CAAC,EAAlB,EAAqB;AACjBD,QAAAA,MAAM,CAACE,IAAP,CACI;AAAI,UAAA,GAAG,EAAED,CAAT;AACI,UAAA,OAAO,EAAE,MAAI;AACT,iBAAKJ,QAAL,CAAc;AAACH,cAAAA,OAAO,EAACO;AAAT,aAAd,EAA0B,KAAKE,KAAL,CAAWC,WAAX,CAAuB,KAAKZ,KAAL,CAAWE,OAAlC,CAA1B;AAAsE,WAF9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAGI;AACI,UAAA,SAAS,EAAE,KAAKF,KAAL,CAAWE,OAAX,KAAqBO,CAArB,GAAuB,MAAvB,GAA8B,QAD7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHJ,CADJ;AAUH;;AACD,aACI;AAAI,QAAA,SAAS,EAAE,KAAKE,KAAL,CAAWE,IAAX,KAAkB,IAAlB,GAAuB,MAAvB,GAA8B,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwDL,MAAxD,CADJ;AAGH,KA5C4B;AAAA;;AAM7BM,EAAAA,iBAAiB,GAAG;AAChB,UAAK;AAACC,MAAAA;AAAD,QAAa,KAAKJ,KAAvB;AACA,SAAKN,QAAL,CAAc;AACVJ,MAAAA,KAAK,EAACc,QAAQ,CAACC,MADL;AAEVb,MAAAA,KAAK,EAAC,KAAKQ,KAAL,CAAWR;AAFP,KAAd;AAIA,SAAKc,MAAL,GAAcC,WAAW,CAAC,MAAI,KAAKd,SAAL,EAAL,EAAsB,KAAKJ,KAAL,CAAWG,KAAjC,CAAzB,CANgB,CAOhB;AACH;;AA+BDgB,EAAAA,MAAM,GAAE;AACJ,WACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKb,MAAL,EADL,EAEK,KAAKK,KAAL,CAAWI,QAAX,CAAoB,KAAKf,KAAL,CAAWE,OAA/B,CAFL,EAGK,KAAKS,KAAL,CAAWC,WAAX,CAAuB,KAAKZ,KAAL,CAAWE,OAAlC,CAHL,CADJ;AAOH;;AArD4B;;AAwDjC,eAAeH,QAAf","sourcesContent":["import React, {Component} from 'react';\r\n\r\n\r\nclass Carousel extends Component {\r\n    state = {\r\n        total:0,\r\n        current: 0,\r\n        delay:4000\r\n    }\r\n    componentDidMount() {\r\n        const{children} = this.props\r\n        this.setState({\r\n            total:children.length,\r\n            delay:this.props.delay\r\n        });\r\n        this.change = setInterval(()=>this.changeNum(),this.state.delay);\r\n        //开启定时\r\n    }\r\n\r\n    changeNum=()=>{\r\n        let {total,current}=this.state\r\n            this.setState({\r\n            current:current+1 != total?current+1:0,\r\n        })\r\n\r\n    }\r\n\r\n\r\n    // 点点的特效\r\n    numBer=()=>{\r\n        let x = this.state.total //当前有多图片\r\n        let number = []\r\n        for(let i=0; i<x;i++){\r\n            number.push(\r\n                <li key={i}\r\n                    onClick={()=>{\r\n                        this.setState({current:i},this.props.afterChange(this.state.current))}}>\r\n                    <div\r\n                        className={this.state.current===i?'dian':'nodian'}\r\n                    >\r\n                    </div>\r\n                </li>\r\n            )\r\n        }\r\n        return(\r\n            <ul className={this.props.dots===true?'data':'data2'} >{number}</ul>\r\n        )\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"Banner\">\r\n                {this.numBer()}\r\n                {this.props.children[this.state.current]}\r\n                {this.props.afterChange(this.state.current)}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Carousel;"]},"metadata":{},"sourceType":"module"}