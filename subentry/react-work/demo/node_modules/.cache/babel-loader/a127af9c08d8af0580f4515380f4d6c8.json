{"ast":null,"code":"var _jsxFileName = \"/Users/miku/work/react/react-work/demo/src/components/login/index.js\";\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nimport qs from \"qs\";\nimport \"./login.css\";\nimport { render } from \"react-dom\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../app\";\nimport { isElementOfType } from \"react-dom/test-utils\";\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      mobile: \"\",\n      // 手机号\n      password: \"\",\n      //密码\n      display1: true,\n      nickname: ''\n    };\n\n    this.login = () => {\n      if (this.state.mobile.match(/^1\\d{10}/)) {\n        axios.get(\"/api/user/token/mobile\").then(item => {\n          console.log(item);\n          window.localStorage.setItem(\"nickname\", item.data.data.nickname);\n\n          if (item.data.status) {\n            window.location.href = 'http://localhost:3000/#/';\n            return true;\n          }\n        });\n      } else {\n        this.setState({\n          display1: false\n        });\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(AuthContext.Consumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, val => {\n      console.log(val);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"\\u767B\\u5165\")), React.createElement(\"div\", {\n        id: \"please_register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        id: \"wen\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"\\u4E3A\\u4E86\\u66F4\\u597D\\u7684\\u4F53\\u9A8C,\\u8BF7\\u767B\\u5165\")), React.createElement(\"div\", {\n        id: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"content-top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"\\u624B\\u673A\\u53F7\\u5F52\\u5C5E\\u5730\"), React.createElement(\"span\", {\n        className: \"rg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"\\u4E2D\\u56FD\")), React.createElement(\"div\", {\n        className: \"content-inp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"+86\", React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.mobile,\n        onChange: e => {\n          this.setState({\n            mobile: e.target.value\n          });\n        },\n        placeholder: \"\\u8F93\\u5165\\u624B\\u673A\\u53F7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      })), this.state.display1 ? \"\" : React.createElement(\"span\", {\n        className: \"tips\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"\\u8BF7\\u8F93\\u5165\\u6B63\\u786E\\u7684\\u624B\\u673A\\u53F7\"), React.createElement(\"div\", {\n        className: \"content-inp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.password,\n        onChange: e => {\n          this.setState({\n            password: e.target.value\n          });\n        },\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }))), React.createElement(\"button\", {\n        className: \"login\",\n        onClick: () => {\n          this.login();\n          console.log(6666);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"\\u767B\\u5165\")), React.createElement(\"div\", {\n        id: \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"\\u53BB\\u767B\\u5165\"))));\n    });\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/miku/work/react/react-work/demo/src/components/login/index.js"],"names":["React","Component","axios","qs","render","Link","AuthContext","isElementOfType","Login","state","mobile","password","display1","nickname","login","match","get","then","item","console","log","window","localStorage","setItem","data","status","location","href","setState","val","e","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA6B,OAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,OAAO,aAAP;AACA,SAAQC,MAAR,QAAqB,WAArB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SAAQC,WAAR,QAA0B,WAA1B;AACA,SAAQC,eAAR,QAA8B,sBAA9B;;AAEA,MAAMC,KAAN,SAAoBP,SAApB,CAA8B;AAAA;AAAA;AAAA,SAC1BQ,KAD0B,GACpB;AACFC,MAAAA,MAAM,EAAC,EADL;AACS;AACXC,MAAAA,QAAQ,EAAC,EAFP;AAEU;AAEZC,MAAAA,QAAQ,EAAC,IAJP;AAKFC,MAAAA,QAAQ,EAAC;AALP,KADoB;;AAAA,SAS1BC,KAT0B,GASlB,MAAI;AAER,UAAG,KAAKL,KAAL,CAAWC,MAAX,CAAkBK,KAAlB,CAAwB,UAAxB,CAAH,EAAuC;AACnCb,QAAAA,KAAK,CAACc,GAAN,CAAU,wBAAV,EACKC,IADL,CACWC,IAAD,IAAQ;AACVC,UAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAG,UAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,EAAuCL,IAAI,CAACM,IAAL,CAAUA,IAAV,CAAeX,QAAtD;;AACI,cAAGK,IAAI,CAACM,IAAL,CAAUC,MAAb,EAAoB;AAChBJ,YAAAA,MAAM,CAACK,QAAP,CAAgBC,IAAhB,GAAuB,0BAAvB;AACA,mBAAO,IAAP;AACH;AACJ,SART;AAUH,OAXD,MAWM;AACF,aAAKC,QAAL,CAAc;AAAChB,UAAAA,QAAQ,EAAC;AAAV,SAAd;AACH;AAEJ,KA1ByB;AAAA;;AA2B1BR,EAAAA,MAAM,GAAG;AACL,WACI,oBAAC,WAAD,CAAa,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACMyB,GAAD,IAAO;AACJV,MAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,EAAE,EAAC,KAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAd,CADJ,EAEI;AAAK,QAAA,EAAE,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,EAAE,EAAC,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yEADJ,CAFJ,EAKI;AAAK,QAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDADJ,EAEI;AAAM,QAAA,SAAS,EAAC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ,CADJ,EAMI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAEI;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,KAAK,EAAE,KAAKpB,KAAL,CAAWC,MAFtB;AAGI,QAAA,QAAQ,EAAGoB,CAAD,IAAK;AACX,eAAKF,QAAL,CAAc;AAAClB,YAAAA,MAAM,EAACoB,CAAC,CAACC,MAAF,CAASC;AAAjB,WAAd;AACH,SALL;AAMI,QAAA,WAAW,EAAC,gCANhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CANJ,EAgBK,KAAKvB,KAAL,CAAWG,QAAX,GAAoB,EAApB,GACI;AAAM,QAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEAjBT,EAkBI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,KAAK,EAAE,KAAKH,KAAL,CAAWE,QAFtB;AAGI,QAAA,QAAQ,EAAGmB,CAAD,IAAK;AACX,eAAKF,QAAL,CAAc;AAACjB,YAAAA,QAAQ,EAACmB,CAAC,CAACC,MAAF,CAASC;AAAnB,WAAd;AACH,SALL;AAMI,QAAA,WAAW,EAAC,gCANhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAlBJ,CADJ,EA6BI;AAAQ,QAAA,SAAS,EAAC,OAAlB;AAA0B,QAAA,OAAO,EAAE,MAAI;AACnC,eAAKlB,KAAL;AACAK,UAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AAGH,SALD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBA7BJ,CALJ,EA0CI;AAAK,QAAA,EAAE,EAAC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAJ,CADD,CA1CJ,CADJ;AAgDH,KAnDL,CADJ;AAwDH;;AApFyB;;AAwF9B,eAAeZ,KAAf","sourcesContent":["import React,{Component}from \"react\";\r\nimport axios from 'axios';\r\nimport qs from \"qs\"\r\nimport \"./login.css\"\r\nimport {render} from \"react-dom\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {AuthContext} from \"../../app\";\r\nimport {isElementOfType} from \"react-dom/test-utils\";\r\n\r\nclass Login extends Component {\r\n    state={\r\n        mobile:\"\", // 手机号\r\n        password:\"\",//密码\r\n\r\n        display1:true,\r\n        nickname:''\r\n    }\r\n\r\n    login = ()=>{\r\n\r\n        if(this.state.mobile.match(/^1\\d{10}/)){\r\n            axios.get(\"/api/user/token/mobile\")\r\n                .then((item)=>{\r\n                    console.log(item)\r\n                    window.localStorage.setItem(\"nickname\",item.data.data.nickname)\r\n                        if(item.data.status){\r\n                            window.location.href = 'http://localhost:3000/#/';\r\n                            return true\r\n                        }\r\n                    }\r\n                )\r\n        }else {\r\n            this.setState({display1:false})\r\n        }\r\n\r\n    }\r\n    render() {\r\n        return(\r\n            <AuthContext.Consumer>\r\n                {(val)=>{\r\n                    console.log(val)\r\n                    return(\r\n                        <div>\r\n                            <div id=\"top\"><h4>登入</h4></div>\r\n                            <div id=\"please_register\">\r\n                                <span id=\"wen\">为了更好的体验,请登入</span>\r\n                            </div>\r\n                            <div id=\"content\">\r\n                                <div>\r\n                                    <div className=\"content-top\">\r\n                                        <span>手机号归属地</span>\r\n                                        <span className=\"rg\">中国</span>\r\n                                    </div>\r\n\r\n                                    <div className=\"content-inp\">\r\n                                        +86\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={this.state.mobile}\r\n                                            onChange={(e)=>{\r\n                                                this.setState({mobile:e.target.value})\r\n                                            }}\r\n                                            placeholder=\"输入手机号\"/>\r\n                                    </div>\r\n                                    {this.state.display1?\"\"\r\n                                        :<span className=\"tips\">请输入正确的手机号</span>}\r\n                                    <div className=\"content-inp\">\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            value={this.state.password}\r\n                                            onChange={(e)=>{\r\n                                                this.setState({password:e.target.value})\r\n                                            }}\r\n                                            placeholder=\"请输入密码\"/>\r\n                                    </div>\r\n                                </div>\r\n                                <button className=\"login\" onClick={()=>{\r\n                                    this.login()\r\n                                    console.log(6666)\r\n\r\n\r\n                                }\r\n                                }>登入</button>\r\n                            </div>\r\n                            <div id=\"login\"\r\n                            ><li><Link to=\"/\">去登入</Link></li></div>\r\n\r\n                        </div>\r\n                    )\r\n                }}\r\n            </AuthContext.Consumer>\r\n\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}